---
# Note: Driver options must be set in .config/molecule/config.yml
dependency:
  name: galaxy
platforms:
  - name: instance01
    box: "${IMAGE:-generic/debian11}"
    template_name: "${TEMPLATE:-debian11}"
    groups:
      - testers
provisioner:
  name: ansible
  inventory:
    group_vars:
      all:
        example: hello world
verifier:
  name: robotframework
  group: testers
  libraries:
    - robotframework-openafslibrary
  resource_directory: "."
  resources:
    - ${MOLECULE_SCENARIO_DIRECTORY}/templates/myvars.py.j2
  tests:
    - name: molecule-robotframework
      type: git
      source: "https://github.com/meffie/molecule-robotframework"
      version: main
      execute: tests/robot/example.robot
    - name: my-tests
      type: dir
      source: ${MOLECULE_PROJECT_DIRECTORY}/robot/
  options:
    name: example
    exitonerror: yes
    exclude: bogus
    report: index.html
