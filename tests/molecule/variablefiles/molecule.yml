---
dependency:
  name: galaxy

driver:
  name: vagrant

platforms:
  - name: instance01
    box: "${BOX:-generic/debian12}"
    box_version: "${BOX_VERSION:-4.3.10}"
    config_options:
      ssh.insert_key: false
    groups:
      - testers

provisioner:
  name: ansible
  inventory:
    group_vars:
      testers:
        example_variable: this is a test

verifier:
  name: molecule-robotframework
  options:
    group: testers
    variablefiles:
      - source: ${MOLECULE_SCENARIO_DIRECTORY}/templates/example.py.j2
    tests:
      - name: variable-test
        type: dir
        source: ${MOLECULE_SCENARIO_DIRECTORY}/files/example.robot
    robot:
      exitonerror: yes
      report: index.html
      variablefile: example.py
